import {mergeContent,hasI18nKey,processI18N}from'@coxy/i18n-process';import y,{createContext,useState,useEffect,useContext,useMemo,useCallback}from'react';var u=createContext({language:null,fallback:null,dangerouslySetText:void 0,replaceUndefinedKey:void 0,setLanguage:void 0,setFallback:void 0}),C=s=>{let{children:e,fallback:n,language:r,dangerouslySetText:a,replaceUndefinedKey:l}=s,[o,t]=useState(r),[d,i]=useState(n);return useEffect(()=>{t(r);},[r]),useEffect(()=>{i(n);},[n]),y.createElement(u.Provider,{value:{fallback:d,language:o,dangerouslySetText:a,replaceUndefinedKey:l,setLanguage:t,setFallback:i}},e)};function K(...s){let e=useContext(u),n=useMemo(()=>mergeContent(s,{language:e.language,fallback:e.fallback}),[e]);return {t:useCallback((a,l)=>{let o={key:a,variables:l},t=hasI18nKey(n,o);return !t&&e.replaceUndefinedKey?e.replaceUndefinedKey(a):t&&e.dangerouslySetText?e.dangerouslySetText:processI18N(n,o)},[e]),hasKey:hasI18nKey,language:e.language}}export{u as I18nContext,C as I18nProvider,K as useI18N};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map